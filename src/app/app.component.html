<main>
  <mdb-navbar SideClass="navbar navbar-dark grey darken-4 fixed-top">
    <mdb-navbar-brand>
      <span class="navbar-brand font-weight-bolder">Bloody Hank's</span>
    </mdb-navbar-brand>
  </mdb-navbar>

  <div class="container pt-5">
    <mdb-card class="mt-5 grey lighten-3">
      <mdb-card-body>
        <mdb-card-title>
          <h4>Reittihaku</h4>
        </mdb-card-title>

        <mdb-card-text>
          <div class="row mt-3">
            <div class="md-form col-lg-4 mb-3">
              
              <mdb-select label="Lähtöpysäkki" [visibleOptions]="8" [(ngModel)]="routePoints.startNode" [options]="pysakitDropDownData"></mdb-select>

              <mdb-select label="Päätepysäkki" [visibleOptions]="8" [(ngModel)]="routePoints.endNode" class="mt-3" [options]="pysakitDropDownData"></mdb-select>
            </div>
            <div class="col-lg-5 ml-3" *ngIf="routeCalculated">
              <h5>Reitti: {{routeInfo.route.join(", ")}}</h5>
              <h5>Kesto: {{routeInfo.time}}</h5>
              <h5>Bussilinjat perille ja pysäkit niiden varrella:</h5>
              <div class="ml-4">
                <ul>
                  <li *ngFor="let line of buslines">
                    <span>Linja: {{line.line}}</span>
                    <p>Pysäkit: {{line.route.join(", ")}}</p>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </mdb-card-text>


        <button mdbBtn color="primary" rounded="true" (click)="getRoute()" [disabled]="routePoints.startNode==null || routePoints.endNode==null" mdbWavesEffect>
          <mdb-icon fas icon="bus-alt" class="mr-1"></mdb-icon>Hae reitti</button>
      </mdb-card-body>
    </mdb-card>

  </div>
</main>
